<!-- Pagination Component - Fully Responsive -->
{% if is_paginated %}
<div class="mt-6 md:mt-8">
    <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
        <!-- Page Info -->
        <div class="text-sm text-gray-600 order-2 sm:order-1">
            Showing 
            <span class="font-semibold text-gray-900">{{ page_obj.start_index }}</span> 
            to 
            <span class="font-semibold text-gray-900">{{ page_obj.end_index }}</span> 
            of 
            <span class="font-semibold text-gray-900">{{ paginator.count }}</span> 
            results
        </div>
        
        <!-- Pagination Buttons -->
        <nav class="flex items-center space-x-1 md:space-x-2 order-1 sm:order-2" aria-label="Pagination">
            <!-- Previous Button -->
            {% if page_obj.has_previous %}
                <a 
                    href="?page=1{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}{% if request.GET.status %}&status={{ request.GET.status }}{% endif %}{% if request.GET.type %}&type={{ request.GET.type }}{% endif %}" 
                    class="px-2 md:px-3 py-1 md:py-2 text-xs md:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition"
                    title="First Page"
                >
                    <i class="fas fa-angle-double-left"></i>
                    <span class="hidden md:inline ml-1">First</span>
                </a>
                <a 
                    href="?page={{ page_obj.previous_page_number }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}{% if request.GET.status %}&status={{ request.GET.status }}{% endif %}{% if request.GET.type %}&type={{ request.GET.type }}{% endif %}" 
                    class="px-2 md:px-3 py-1 md:py-2 text-xs md:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition"
                    title="Previous Page"
                >
                    <i class="fas fa-angle-left"></i>
                    <span class="hidden sm:inline ml-1">Prev</span>
                </a>
            {% else %}
                <span class="px-2 md:px-3 py-1 md:py-2 text-xs md:text-sm font-medium text-gray-400 bg-gray-100 border border-gray-300 rounded-lg cursor-not-allowed">
                    <i class="fas fa-angle-double-left"></i>
                    <span class="hidden md:inline ml-1">First</span>
                </span>
                <span class="px-2 md:px-3 py-1 md:py-2 text-xs md:text-sm font-medium text-gray-400 bg-gray-100 border border-gray-300 rounded-lg cursor-not-allowed">
                    <i class="fas fa-angle-left"></i>
                    <span class="hidden sm:inline ml-1">Prev</span>
                </span>
            {% endif %}
            
            <!-- Page Numbers (adaptive - show fewer on mobile) -->
            <div class="hidden sm:flex items-center space-x-1 md:space-x-2">
                {% for num in page_obj.paginator.page_range %}
                    {% if page_obj.number == num %}
                        <span class="px-3 md:px-4 py-1 md:py-2 text-xs md:text-sm font-bold text-white bg-blue-600 border border-blue-600 rounded-lg">
                            {{ num }}
                        </span>
                    {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                        <a 
                            href="?page={{ num }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}{% if request.GET.status %}&status={{ request.GET.status }}{% endif %}{% if request.GET.type %}&type={{ request.GET.type }}{% endif %}" 
                            class="px-3 md:px-4 py-1 md:py-2 text-xs md:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition"
                        >
                            {{ num }}
                        </a>
                    {% endif %}
                {% endfor %}
            </div>
            
            <!-- Current Page Display for Mobile -->
            <span class="sm:hidden px-3 py-1 text-xs font-bold text-white bg-blue-600 border border-blue-600 rounded-lg">
                {{ page_obj.number }} / {{ page_obj.paginator.num_pages }}
            </span>
            
            <!-- Next Button -->
            {% if page_obj.has_next %}
                <a 
                    href="?page={{ page_obj.next_page_number }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}{% if request.GET.status %}&status={{ request.GET.status }}{% endif %}{% if request.GET.type %}&type={{ request.GET.type }}{% endif %}" 
                    class="px-2 md:px-3 py-1 md:py-2 text-xs md:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition"
                    title="Next Page"
                >
                    <span class="hidden sm:inline mr-1">Next</span>
                    <i class="fas fa-angle-right"></i>
                </a>
                <a 
                    href="?page={{ page_obj.paginator.num_pages }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}{% if request.GET.status %}&status={{ request.GET.status }}{% endif %}{% if request.GET.type %}&type={{ request.GET.type }}{% endif %}" 
                    class="px-2 md:px-3 py-1 md:py-2 text-xs md:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition"
                    title="Last Page"
                >
                    <span class="hidden md:inline mr-1">Last</span>
                    <i class="fas fa-angle-double-right"></i>
                </a>
            {% else %}
                <span class="px-2 md:px-3 py-1 md:py-2 text-xs md:text-sm font-medium text-gray-400 bg-gray-100 border border-gray-300 rounded-lg cursor-not-allowed">
                    <span class="hidden sm:inline mr-1">Next</span>
                    <i class="fas fa-angle-right"></i>
                </span>
                <span class="px-2 md:px-3 py-1 md:py-2 text-xs md:text-sm font-medium text-gray-400 bg-gray-100 border border-gray-300 rounded-lg cursor-not-allowed">
                    <span class="hidden md:inline mr-1">Last</span>
                    <i class="fas fa-angle-double-right"></i>
                </span>
            {% endif %}
        </nav>
    </div>
</div>
{% endif %}